<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Hostel Store</title>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2;}
header{background:#111;color:white;text-align:center;padding:15px;font-size:22px;}
.container{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:15px;padding:15px;}
.card{background:white;padding:10px;border-radius:10px;text-align:center;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
.card img{width:100%;height:140px;object-fit:cover;border-radius:8px;}
.price{font-weight:bold;margin:6px;}
.stock{font-size:14px;margin-bottom:5px;}
.in{color:green;} .out{color:red;}
.btn{background:#25D366;color:white;padding:8px 12px;border:none;border-radius:6px;cursor:pointer;margin-top:5px;}
.btn:disabled{background:grey;}
input,select{padding:6px;margin:5px;}
</style>
</head>

<body>

<header>üõí My Hostel Store</header>

<!-- CUSTOMER DETAILS -->
<h2 style="text-align:center">Customer Details</h2>
<div style="text-align:center;margin-bottom:20px;">
<input id="custName" placeholder="Your Name"><br>
<input id="roomNo" placeholder="Room Number"><br>

<select id="payment">
<option>UPI</option>
<option>Cash</option>
<option>Paytm</option>
</select><br>

<input id="utr" placeholder="UPI Ref No / Last 4 digits"><br>
</div>

<!-- PRODUCTS -->
<div class="container">

<div class="card">
<img src="maggi.jpg">
<h3>Maggi</h3>
<div class="price">‚Çπ20</div>
<div class="stock in">In Stock: 24</div>
<input type="number" id="qty1" value="1" min="1">
<br><button class="btn" onclick="addToCart('Maggi',20,'qty1')">Add</button>
</div>

<div class="card">
<img src="kurkure.jpg">
<h3>Kurkure</h3>
<div class="price">‚Çπ20</div>
<div class="stock in">In Stock: 9</div>
<input type="number" id="qty2" value="1" min="1">
<br><button class="btn" onclick="addToCart('Kurkure',20,'qty2')">Add</button>
</div>

<div class="card">
<img src="bhujia.jpg">
<h3>Bhujia</h3>
<div class="price">‚Çπ300</div>
<div class="stock in">In Stock: 2</div>
 <input type="number" id="qty3" value="1" min="1">
<button class="btn" onclick="addToCart('Bhujia',300,'qty3')">Add</button>
</div>

<div class="card">
<img src="ariel.jpg">
<h3>Ariel</h3>
<div class="price">‚Çπ160</div>
<div class="stock in">In Stock: 1</div>
<input type="number" id="qty4" value="1" min="1">
<br><button class="btn" onclick="addToCart('Ariel',160,'qty4')">Add</button>
</div>

</div>

<!-- CART -->
<h2 style="text-align:center">üõí Your Cart</h2>
<div id="cart" style="text-align:center"></div>

<div style="text-align:center;margin:20px;">
<button class="btn" onclick="placeOrder()">Place Order on WhatsApp</button>
</div>

<!-- ADMIN PANEL YAHAN PASTE KARO -->
<div style="text-align:center;margin-top:30px;">
<button onclick="showAdmin()" style="background:#444;color:white;border:none;padding:6px 10px;border-radius:6px;">
Admin
</button>

<div id="adminPanel" style="display:none;margin-top:10px;">
<input type="password" id="adminPass" placeholder="Enter Password">
<button onclick="resetStock()">Reset Stock</button>
</div>
</div>



<script>
var orderCounter=localStorage.getItem("orderNo") || 1001;

var phone="919983729301";
var cart=[];

var stockData={
Maggi:10,
Kurkure:5,
Bhujia:0,
Ariel:1
};

function addToCart(name,price,qtyId){
let qty=parseInt(document.getElementById(qtyId).value);
if(isNaN(qty)||qty<=0){alert("Enter valid qty");return;}
if(qty>stockData[name]){alert("Only "+stockData[name]+" left");return;}
cart.push({name,price,qty});
showCart();
}

function showCart(){
let text=""; 
let total=0;

cart.forEach((item,index)=>{
let sub=item.price*item.qty;
total+=sub;

text+=`
<div style="margin:6px;">
${item.name} √ó ${item.qty} = ‚Çπ${sub}
<button onclick="removeItem(${index})" style="margin-left:10px;background:red;color:white;border:none;border-radius:4px;">‚ùå</button>
</div>
`;
});

text+="<br><b>Total: ‚Çπ"+total+"</b>";

document.getElementById("cart").innerHTML=text;
}


function getDeliveryCharge(){
let hour=new Date().getHours();
if(hour>=15 && hour<20) return 10;
if(hour>=20) return 20;
return 0;
}

function serviceOpen(){
let hour=new Date().getHours();
return !(hour>=9 && hour<15);
}

function placeOrder(){
orderCounter++;
localStorage.setItem("orderNo",orderCounter);

if(!serviceOpen()){alert("Service not available");return;}
if(cart.length==0){alert("Cart empty");return;}
let orderTotal=0;
cart.forEach(item=>{ orderTotal+=item.price*item.qty; });

if(orderTotal<20){
alert("Minimum order ‚Çπ20 required");
return;
}

let name=document.getElementById("custName").value;
let room=document.getElementById("roomNo").value;
let pay=document.getElementById("payment").value;
let utr=document.getElementById("utr").value;

if(name==""||room==""){alert("Enter name and room number");return;}

let time=new Date().toLocaleTimeString();

let msg="üßæ HOSTEL STORE ORDER%0A%0A";
  msg+=`üÜî Order No: ${orderCounter}%0A%0A`;

msg+=`üë§ Name: ${name}%0A`;
msg+=`üè† Room: ${room}%0A`;
msg+=`üí≥ Payment: ${pay}%0A`;
msg+=`üî¢ Ref: ${utr}%0A%0A`;

msg+="üì¶ ITEMS%0A";

let total=0;

cart.forEach(item=>{
let sub=item.price*item.qty;
total+=sub;
msg+=`‚Ä¢ ${item.name} x${item.qty} = ‚Çπ${sub}%0A`;
stockData[item.name]-=item.qty;
});

let delivery=getDeliveryCharge();
total+=delivery;

msg+=`%0Aüöö Delivery: ‚Çπ${delivery}%0A`;
msg+="----------------------%0A";
msg+=`üí∞ TOTAL: ‚Çπ${total}%0A%0A`;
msg+=`‚è∞ ${time}`;


window.open(`https://wa.me/${phone}?text=${msg}`,'_blank');
cart=[];
showCart();
}

/* ADMIN PANEL */
function showAdmin(){
let pass=prompt("Enter Admin Password");
if(pass==="291"){
document.getElementById("adminPanel").style.display="block";
}else{
alert("Wrong password");
}
}

function resetStock(){
stockData={Maggi:10,Kurkure:5,Bhujia:0,Ariel:1};
showCart();
alert("Stock Reset Done");
}

  function removeItem(i){
cart.splice(i,1);
showCart();
}

</script>


  

</body>
</html>





